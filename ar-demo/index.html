<!doctype HTML>
<html>
<script src="https://aframe.io/releases/0.9.1/aframe.min.js"></script>
<script src="https://raw.githack.com/jeromeetienne/AR.js/1.7.1/aframe/build/aframe-ar.js"></script>
<script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v6.0.0/dist/aframe-extras.min.js"></script>
<script src="https://unpkg.com/aframe-fps-counter-component/dist/aframe-fps-counter-component.min.js"></script>
<!-- <script src="./js/scene-logic.js"></script> -->

<body style='margin : 0px; overflow: hidden;'>


	<a-scene embedded arjs="trackingMethod: artoolkit; sourceType: webcam; debugUIEnabled: false;"
		renderer="logarithmicDepthBuffer: true;" vr-mode-ui="enabled: false">
		<!-- <a-scene embedded artoolkit='sourceType: webcam;' renderer='logarithmicDepthBuffer: true;'> -->
		<a-assets>
			<img id="imgAR" src="./images/ar.png" alt=""></img>
			<img id="imgVR" src="./images/vr.png" alt=""></img>
			<img id="img3D" src="./images/3d.png" alt=""></img>
		</a-assets>

		<a-marker preset='custom' type='pattern' url='marker/pattern-Marker.patt'>
			<!-- <a-video id="vid" src="#tntc-video" width="2" height="1.3" position="0 0 0" rotation="-90 0 0"></a-video> -->
			<!-- <a-image id="ar" src="#imgAR" position="0 1 0" rotation="-90 0 0" width="1" height="1" alphatest='val: 0.5' visible="true"></a-image>
			<a-image id="vr" src="#imgVR" position="0 0.5 0" rotation="-90 0 0" width="1" height="1" alphatest='val: 0.5' visible="true"></a-image>
			<a-image id="3d" src="img3D" position="0 -0.5 0" rotation="-90 0 0" width="1" height="1" alphatest='val: 0.5' visible="true"></a-image>
			<a-image id="games" src="imgGames" position="0 -1 0" rotation="-90 0 0" width="1" height="1" alphatest='val: 0.5' visible="true"></a-image> -->

			<a-plane id="ar" position="0 0 0.6" rotation="-90 0 0" material="src:#imgAR; transparent:true; opacity:0; alpha-test:0.5" ></a-plane>
			<a-plane id="vr" position="0 0 0" rotation="-90 0 0" material="src:#imgVR; transparent:true; opacity:0; alpha-test:0.5" ></a-plane>
			<a-plane id="ddd" position="0 0 -0.6" rotation="-90 0 0" material="src:#img3D; transparent:true; opacity:0; alpha-test:0.5" ></a-plane>
		</a-marker>

		<a-entity camera="far:100000; near:0.01">
			<a-entity cursor="rayOrigin: mouse"></a-entity>
			<a-entity id="hint"
				text="align:center; value:Frames the TNTC marker; color:#FFFFFF; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/patuaone/PatuaOne-Regular.json;"
				position="0 -2 -10" scale="3.5 3.5 3.5"></a-entity>
		</a-entity>

	</a-scene>

	<script type="text/javascript">

		let firstTime = true

		let marker = document.querySelector("a-marker")
		let hint = document.querySelector("#hint")

		let ar = document.querySelector("#ar")
		let vr = document.querySelector("#vr")
		let ddd = document.querySelector("#ddd")

		// animation="property: components.material.material.opacity; from: 1; to: 0"

		marker.addEventListener('markerFound', function (evt) {
			if (firstTime) {
				hint.setAttribute('visible', false)
				firstTime = false

			}

			ar.setAttribute('animation', "property: components.material.material.opacity; from: 0; to: 0.9; dur: 1000; easing: linear")
			vr.setAttribute('animation', "property: components.material.material.opacity; from: 0; to: 0.9; dur: 1000; easing: linear")
			ddd.setAttribute('animation', "property: components.material.material.opacity; from: 0; to: 0.9; dur: 1000; easing: linear")
		})

		marker.addEventListener('click', function (evt) {
			// vid.play()
		})

	</script>

</body>

</html>